<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="../lib/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../lib/swiper/css/swiper.min.css">
    <link rel="stylesheet" href="../css/detail.css">
</head>

<body>

    <script src="../lib/jquery/dist/jquery.min.js"></script>
    <script src="../lib/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../lib/swiper/js/swiper.min.js"></script>
    <div class="detail">
        <div class="detail-con">
            <div class="detail-top">
                <a href="">首页</a>
                &nbsp;>&nbsp;
                <a href="">手机</a>
                &nbsp;>&nbsp;
                <a href="">HUAWEI Mate系列</a>
                &nbsp;>&nbsp;
                <span>ffffffffff</span>
            </div>
            <div class="dt-main">
                <div class="m-left">
                    <div class="photo-container">
                        <div class="pt-c">
                         <img src="https://res.vmallres.com/pimages//product/6901443376506/group//428_428_D2220091A813A89EE682B2512E3B24E290479346AB6E8D71.png"
                            alt="">
                          <div class="ydfk"></div> 
                        </div>
                        <div class="pt-datu">
                               <img src=" https://res.vmallres.com/pimages//product/6901443376506/group//800_800_D2220091A813A89EE682B2512E3B24E290479346AB6E8D71.png" alt="">
                        </div>
                        

                       
                    </div>
                    
                    <div class="pt-bottom">
                        <a href="javascript:;" class="product-gallery-back" onclick="ec.product.imgSlider.prev()"></a>
                        <!--不可点击添加class="disabled"-->
                        <div class="product-gallery-thumbs">
                            <ul id="pro-gallerys" style="left: 0px;">
                                <li class="">
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/78_78_5A4871DB483B6E0D92CA527C3D367A6A32E2B433F5870412mp.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_A2AB9EC13852D95C5C1C6619D7661E1E006477D18FF0269E.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_12F18330CB283672F16B16EC03B87883778D6B38E5850436.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li class="current">
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_3824BC7712A9FC3338E1C77A3896BCB9EEEE9AB72D00DDA7.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li class="">
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_D2220091A813A89EE682B2512E3B24E290479346AB6E8D71.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_D59D99CA592859DC8D4C0D0F98DB1EEF397A934CB8BD922A.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_A80B2DC6FAB54667AE2B5403AE8D6AAF1F5B34C8B1A7FD49.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                                <li>
                                    <a href="javascript:;">
                                        <img src="https://res.vmallres.com/pimages//product/6901443376506/group//78_78_26BE501D5183F9F7D60BC2034885F5D4C6DD16D6D856380C.png"
                                            alt="HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）">
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <a href="javascript:;" class="product-gallery-forward" onclick="ec.product.imgSlider.next()"></a>
                    </div>
                </div>
                <div class="m-right">
                    <h1 id="pro-name">HUAWEI Mate Xs 5G全网通 8GB+512GB（星际蓝）</h1> 
                    <div class="product-slogan" id="skuPromWord" style="display: block;"><a href="javascript:;" class="product-slogan-btn" style="display: none;"></a> <span class="product-slogan-link">①购机赠半价换屏服务 ②下方保障选项中可选购碎屏服务宝</span> <span>鹰翼式折叠设计|麒麟990 5G旗舰芯片|8英寸可折叠全面屏</span></div> 
                    
                    <div class="pro-info">
                        <div class="price">
                            <div>价&nbsp;&nbsp;&nbsp;格</div>
                            <div><span>￥16999.00</span></div>
                        </div>
                        <div class="chuxiao">
                            <div class='cx-l'>促&nbsp;&nbsp;&nbsp;销</div>
                            <div class="cx-r"></div>
                        </div>
                    </div>

                    <div class="fuwu">
                        <label for="">服务说明</label>
                        <ul>
                        <li>已满48元已免运费</li>
                       <li>由华为商城负责发货，并提供售后服务</li>
                    </ul>
                    </div>
                    
                    <div class="sp-id">
                     <label>商品编码</label>
                        <div class="fl" id="pro-sku-code2">2601010181301</div>
                              
                    </div>

                    
                </div>
            </div>
        </div>
    </div>
    
    <script>
    //渲染页面
        var data= JSON.parse(localStorage.getItem('goods_info'))
        console.log(data)
        if(data==null){
            location.href='./list.html'

        }else{
            $('.detail-top>span').text(data.briefName)
        $('.product-slogan>span:nth-of-type(2)').text(data.skuName)
        $('.price>div:nth-child(2)>span').text('￥'+data.price)
        $('.sp-id>div').text(data.skuCode)
        }
        //放大镜
        $('.pt-c').mouseenter(function(){
            //显示
            $('.ydfk').css('display','block')
            $('.pt-datu').css('display','block')
        })
        $('.pt-c').mouseleave(function(){
            //显示
            $('.ydfk').css('display','none')
            $('.pt-datu').css('display','none')
        })
        $('.pt-c').mousemove(function(e){
            var event = e || window.event;
		// var x = 鼠标距离页面左侧的距离(看的见的+看不见的) - small(box)距离页面左侧的距离
		//console.log(e)
		//为了鼠标在mask中居中所以x,y都要减去mask的一半
		var x = event.clientX +$(window).scrollLeft()- $('.pt-c').offset().left-$('.ydfk').width()/2;
        var y = event.clientY+$(window).scrollTop() - $('.pt-c').offset().top-$('.ydfk').height()/2;
       
        if(x<0){
			x = 0;
		}
		if(x>$('.pt-c').width()-$('.ydfk').width()){
			x = $('.pt-c').width()-$('.ydfk').width();
		}
		if(y<0){
			y = 0;
		}
		if(y>$('.pt-c').height()-$('.ydfk').height()){
			y = $('.pt-c').height()-$('.ydfk').height();
        }
        console.log(x,y)
        $('.ydfk').css('left',x+'px')
        $('.ydfk').css('top',y+'px')

        //x/small.offsetWidth = 大图片要偏移的距离/大图的宽度
		var left = x/$('.pt-c').width()*$('.pt-datu>img').width();
		//y/small.offsetHeight = 大图片要偏移的距离/大图的高度
		var top = y/$('.pt-c').height()*$('.pt-datu>img').height();
		
        
        $('.pt-datu>img').css('left',-left+"px")
        $('.pt-datu>img').css('top',-top+"px")
        })
    </script>
</body>

</html>